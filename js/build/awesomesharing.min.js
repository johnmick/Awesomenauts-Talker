(function(){var j;(function(){var k=0,h=0,i;j=function(a,b){i=a;j.awesomesounds=n(function(){function d(o,p){for(var l=b.CHARACTERS[o].PHRASES,m=l.length-1;m>-1;m--)if(l[m].TXT===p)return l[m]}for(var f={},e=0;e<a.P.length;e++)if(f[a.P[e]]===undefined)f[a.P[e]]=d(a.C,a.P[e]);e=[];for(var g in f){k++;e.push(f[g])}f={CHARACTERS:{}};f.CHARACTERS[a.C]=b.CHARACTERS[a.C];f.CHARACTERS[a.C].PHRASES=e;return f}(),true);j.awesomeshareui=q(b.CHARACTERS[a.C],a.P);return j};j.checkLoadStatus=function(){++h==k&&
j.playSounds()};var c=undefined;j.playSounds=function(){function a(e){function g(){n.play(b,d[e]);a(++e)}if(d[e]!==undefined)c=setTimeout(g,f[e])}var b=i.C,d=i.P,f=i.T;c!==undefined&&clearTimeout(c);a(0)}})();var q;(function(){q=function(k,h){document.getElementById("LEFT_COLUMN").style.display="block";document.getElementById("RIGHT_COLUMN").style.display="block";document.getElementById("RIGHT_COLUMN").style.overflowX="auto";document.getElementById("RIGHT_COLUMN").style.height="465px";document.getElementById("PHRASES").style.width=
"445px";document.getElementById("PHRASES_MESSAGE").style.width="445px";document.getElementById("PORTRAIT").style.backgroundImage="url('"+k.PORTRAIT_SRC+"')";document.getElementById("VCR").style.display="block";document.getElementById("VCR").style.position="absolute";document.getElementById("VCR").style.bottom="10px";document.getElementById("VCR").style.right="10px";document.getElementById("VCR").style.width="400px";$("#PLAY_BUTTON").click(j.playSounds);$("#SHARE_BUTTON").click(function(){window.location.href=
"./index.htm"});document.getElementById("PHRASES_MESSAGE").innerHTML='"'+h.join(" ")+'."';return q}})();var n;(function(){function k(a){function b(p){var l={},m;for(m in p)l[m]=p[m];l.onload=AwesomeLoading.somethingLoaded;l.autoLoad=true;return l}if(a.UI!==undefined){h.UI={};for(var d=a.UI.SOUNDS,f=0;f<d.length;f++){var e=d[f];h.UI[e.id]=soundManager.createSound(b(e))}i=h.UI.UI_TITLE_MUSIC}for(var g in a.CHARACTERS){d=a.CHARACTERS[g].PHRASES;h[g]={};for(f=0;f<d.length;f++){e=d[f];var o=e.TXT.replace("'",
"");if(c===true)h[g][o]=soundManager.createSound({id:g+"_"+o,url:e.SRC,autoLoad:true,volume:100,onload:j.checkLoadStatus,onfinish:function(){AwesomePhrases.unhighlight(this.id.split("_")[0],this.id.split("_")[1])}});else h[g][e.TXT]=soundManager.createSound({id:g+"_"+o,url:e.SRC,autoLoad:true,volume:100,onload:AwesomeLoading.somethingLoaded,onfinish:function(){AwesomePhrases.unhighlight(this.id.split("_")[0],this.id.split("_")[1])}})}}}var h={},i=undefined,c=false;n=function(a,b){c=b;soundManager.setup({onready:function(){k(a)}});
return n};n.switchMusic=function(a,b){i.stop();i=h[a][b];i.play()};n.play=function(a,b){function d(){console.log("Unable to Find Sounds Reference to:",a,b)}if(h[a]!==undefined)h[a][b]!==undefined?h[a][b].play():d();else d()}})();soundManager.setup({url:"./swf/",useHighPerformance:true});(function(){function k(){var c=decodeURI(window.location.href);c=c.slice(c.indexOf("?")+1).split("&");for(var a={},b={readC:function(g){return g},readP:function(g){return g.split(",")},readT:function(g){return g.split(",")}},
d=0;d<c.length;d++){var f=c[d].substring(0,1).toUpperCase(),e="read"+f;if(b[e]!==undefined)a[f]=b[e](c[d].substring(2,c[d].length))}return a}function h(c,a){if(c.C===undefined||c.C===null)return"The character name parameter, 'c={character_name}', is missing";if(a.CHARACTERS[c.C]===undefined){var b="The character name, '"+c.C+"', is not one of the valid characters:<br/>",d;for(d in a.CHARACTERS)b+="<br/>"+d;return b}if(c.P===undefined)return"Missing phrases parameter, p={phrases_list}, where<br/>'phrases_list' is a comma delimited string of phrases";
else{d=c.P;var f=a.CHARACTERS[c.C].PHRASES;for(b=d.length-1;b>-1;b--){for(var e=false,g=f.length-1;g>-1;g--)if(f[g].TXT===d[b]){e=true;break}if(e===false)return"Invalid Phrase, '"+d[b]+"', Specified<br/><br/>No configuration data available for this phrase and character."}}if(c.T===undefined)return"Missing timings parameter, t={timing_list}, where<br/>'timing_list' is a comma delimited string of times<br/>to wait between each phrase";else{d=c.T;for(b=d.length-1;b>-1;b--)if(isNaN(parseInt(d[b]))===
true)return"Invalid Timing Value, '"+d[b]+"', specified.<br/><br/>All timing values must be integer numbers."}if(c.P.length!==c.T.length)return"The number of phrases, "+c.P.length+", does not match<br/>with the number of timings, "+c.T.length;return true}var i=document.getElementById("MESSAGES");i.innerHTML="Now Loading...";$.ajax({cache:false,dataType:"json",error:function(c,a,b){i.innerHTML="Error Loading Configuration Data";console.log("Error Loading Configuration File",c,a,b)},success:function(c){i.style.display=
"none";var a=k(c),b=h(a,c);if(b===true)window.MyAwesomeSharing=j(a,c);else{i.style.display="block";i.innerHTML="Parameters in URL have been determined to be invalid.<br/><br/>"+b}},url:"./config/config.json"})})()})();
